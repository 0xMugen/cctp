# Database Configuration
# Choose one of the following connection methods:

# Option 1: Connection String (recommended for production)
# DATABASE_URL=postgresql://username:password@localhost:5432/database_name

# Option 2: Individual Parameters (matches nix run .#start defaults)
PGHOST=localhost
PGPORT=5433
PGDATABASE=cctp
PGUSER=cctp
PGPASSWORD=cctp

# Environment
NODE_ENV=development

# Management Server Port (for health, ready, and admin endpoints)
MANAGEMENT_PORT=3001

# Optional: Additional PostgreSQL environment variables
# PGSSLMODE=require
# PGCONNECT_TIMEOUT=10
# PGCOMMAND_TIMEOUT=0
# PGCLIENTENCODING=utf8

# Application Name (appears in PostgreSQL logs)
# PGAPPNAME=cctp

# Pool Configuration (optional - defaults are set in database.ts)
# DB_POOL_MAX=20
# DB_POOL_IDLE_TIMEOUT=30000
# DB_POOL_CONNECTION_TIMEOUT=2000

# CORS Configuration
# Comma-separated list of allowed origins (supports wildcards for subdomains)
CORS_ALLOWED_ORIGINS=localhost

# Migration Settings
# AUTO_MIGRATE=true
# MIGRATION_LOCK_TIMEOUT=30000
# MIGRATION_SCHEMA=public

# CCTP Configuration
# Use 'mainnet' or 'testnet' for Circle's Iris API
CCTP_NETWORK=testnet

# Attestation polling interval in milliseconds (default: 5000)
# ATTESTATION_POLL_INTERVAL=5000

# Starknet RPC endpoint
VITE_STARKNET_RPC=https://starknet-mainnet.public.blastapi.io

# =============================================================================
# Relayer Configuration (for automatic mint execution)
# =============================================================================
# The relayer auto-completes bridges by executing mint transactions after
# attestation is received. It needs private keys and gas on destination chains.

RELAYER_ENABLED=false

# EVM Relayer (for Starknet → EVM bridges)
# This wallet executes receiveMessage() on Ethereum/L2s
# Needs ETH for gas on each destination chain you want to support
RELAYER_PRIVATE_KEY=0xYOUR_EVM_PRIVATE_KEY_HERE

# Starknet Relayer (for EVM → Starknet bridges) - OPTIONAL
# This account executes handle_receive_finalized_message() on Starknet
# Needs ETH/STRK for gas on Starknet
# STARKNET_RELAYER_ADDRESS=0xYOUR_STARKNET_ACCOUNT_ADDRESS
# STARKNET_RELAYER_PRIVATE_KEY=0xYOUR_STARKNET_PRIVATE_KEY
# STARKNET_RPC_URL=https://starknet-mainnet.g.alchemy.com/starknet/version/rpc/v0_7/YOUR_KEY

# RPC URLs for sending transactions (required for EVM relayer)
# Get free API keys from Alchemy, Infura, or use public RPCs
ETH_RPC_URL=https://eth-mainnet.g.alchemy.com/v2/YOUR_KEY
OPTIMISM_RPC_URL=https://opt-mainnet.g.alchemy.com/v2/YOUR_KEY
ARBITRUM_RPC_URL=https://arb-mainnet.g.alchemy.com/v2/YOUR_KEY
BASE_RPC_URL=https://base-mainnet.g.alchemy.com/v2/YOUR_KEY
POLYGON_RPC_URL=https://polygon-mainnet.g.alchemy.com/v2/YOUR_KEY
